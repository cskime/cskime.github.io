<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>🇰🇷 광복절 기념 태극기 그리기 🇰🇷 | cskime.io</title>
<meta name="keywords" content="flutter, CustomPaint">
<meta name="description" content="Overview 광복절을 기념해서 Flutter로 태극기를 그려봤다. (Repository)
태극기 도면을 참고했고, CustomPaint를 사용했다.
깃면 그리기 태극기 깃면의 가로:세로 비율은 3:2이므로, AspectRatio로 3:2 비율의 widget을 만든다. DecoratedBox를 사용해서 border를 그려준다. AspectRatio의 child에 LayoutBuilder를 사용해서 CustomPaint의 size를 깃면 size로 설정한다. CustomPaint는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다. 태극 문양 그리기 태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.
빨간색과 파란색 반으로 나뉜 원을 그린다. 반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다.">
<meta name="author" content="">
<link rel="canonical" href="https://cskime.github.io/posts/flutter-taegeukgi/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://cskime.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://cskime.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://cskime.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://cskime.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://cskime.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://cskime.github.io/posts/flutter-taegeukgi/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
  integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"
  crossorigin="anonymous"
/>

<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"
  integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY"
  crossorigin="anonymous"
></script>

<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"
  integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ],
    });
  });
</script>


  

<meta property="og:title" content="🇰🇷 광복절 기념 태극기 그리기 🇰🇷" />
<meta property="og:description" content="Overview 광복절을 기념해서 Flutter로 태극기를 그려봤다. (Repository)
태극기 도면을 참고했고, CustomPaint를 사용했다.
깃면 그리기 태극기 깃면의 가로:세로 비율은 3:2이므로, AspectRatio로 3:2 비율의 widget을 만든다. DecoratedBox를 사용해서 border를 그려준다. AspectRatio의 child에 LayoutBuilder를 사용해서 CustomPaint의 size를 깃면 size로 설정한다. CustomPaint는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다. 태극 문양 그리기 태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.
빨간색과 파란색 반으로 나뉜 원을 그린다. 반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cskime.github.io/posts/flutter-taegeukgi/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-08-15T18:15:39+09:00" />
<meta property="article:modified_time" content="2024-08-15T18:15:39+09:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="🇰🇷 광복절 기념 태극기 그리기 🇰🇷"/>
<meta name="twitter:description" content="Overview 광복절을 기념해서 Flutter로 태극기를 그려봤다. (Repository)
태극기 도면을 참고했고, CustomPaint를 사용했다.
깃면 그리기 태극기 깃면의 가로:세로 비율은 3:2이므로, AspectRatio로 3:2 비율의 widget을 만든다. DecoratedBox를 사용해서 border를 그려준다. AspectRatio의 child에 LayoutBuilder를 사용해서 CustomPaint의 size를 깃면 size로 설정한다. CustomPaint는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다. 태극 문양 그리기 태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.
빨간색과 파란색 반으로 나뉜 원을 그린다. 반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://cskime.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "🇰🇷 광복절 기념 태극기 그리기 🇰🇷",
      "item": "https://cskime.github.io/posts/flutter-taegeukgi/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "🇰🇷 광복절 기념 태극기 그리기 🇰🇷",
  "name": "🇰🇷 광복절 기념 태극기 그리기 🇰🇷",
  "description": "Overview 광복절을 기념해서 Flutter로 태극기를 그려봤다. (Repository)\n태극기 도면을 참고했고, CustomPaint를 사용했다.\n깃면 그리기 태극기 깃면의 가로:세로 비율은 3:2이므로, AspectRatio로 3:2 비율의 widget을 만든다. DecoratedBox를 사용해서 border를 그려준다. AspectRatio의 child에 LayoutBuilder를 사용해서 CustomPaint의 size를 깃면 size로 설정한다. CustomPaint는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다. 태극 문양 그리기 태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.\n빨간색과 파란색 반으로 나뉜 원을 그린다. 반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다.",
  "keywords": [
    "flutter", "CustomPaint"
  ],
  "articleBody": "Overview 광복절을 기념해서 Flutter로 태극기를 그려봤다. (Repository)\n태극기 도면을 참고했고, CustomPaint를 사용했다.\n깃면 그리기 태극기 깃면의 가로:세로 비율은 3:2이므로, AspectRatio로 3:2 비율의 widget을 만든다. DecoratedBox를 사용해서 border를 그려준다. AspectRatio의 child에 LayoutBuilder를 사용해서 CustomPaint의 size를 깃면 size로 설정한다. CustomPaint는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다. 태극 문양 그리기 태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.\n빨간색과 파란색 반으로 나뉜 원을 그린다. 반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다. 이 때, 빨간색과 파란θ색 반원은 태극기의 왼쪽 위 모서리와 오른쪽 아래 모서리로 그어지는 대각선으로 나뉜다. 따라서, drawArc로 반원을 그릴 때 시작 각도(startAngle)는 0과 pi에서 이 대각선의 내각을 더한 위치가 된다. 태극기의 절반인 직각 삼각형에서 밑변과 높이를 알고 있으므로, 내각은 아래와 같이 계산할 수 있다.\n$\\theta = \\arctan(\\frac{b}{a})$\n위 공식에 따라 atan() 함수를 사용해서 내각을 구하고, Canvas.drawArc에서 startAngle에 이 내각을 더해주면 아래와 같이 그려진다.\nclass TaegukgiPainter extends CustomPainter { @override void paint(Canvas canvas, Size size) { final angle = atan(size.height / size.width); ... canvas.drawArc(rect, angle, pi, false, bluePaint); canvas.drawArc(rect, pi + angle, pi, false, redPaint); } } 다음으로, 대각선을 축으로 하고 그려진 원의 반지름을 지름으로 하는 빨간색, 파란색 반원을 그려준다.\n각 원의 색상이 기존 색상을 덮어쓰면서 아래와 같이 태극 모양으로 보이게 된다.\n괘 그리기 괘는 태극기를 가로지르는 대각선에 수직 방향으로 그려진다. 위에서 계산한 대각선 사잇각과 직각 삼각형의 성질을 이용해서 아래와 같이 괘의 중심점과 양 끝점을 계산할 수 있다.\n괘의 각 line의 center 좌표를 계산한 뒤, center에서 좌우로 떨어져 있는 두 point를 계산하여 drawLine으로 괘를 그려준다. 괘의 line 길이, 두께, line 간격 등을 모두 알고 있으므로 for문을 이용해서 3줄의 line을 같은 방법으로 그려준다. 아래는 곤괘를 그리는 예시이다.\n괘를 그리는 전체 코드는 여기에서 확인할 수 있다.\n후기 광복절을 맞아 태극기를 직접 그려보면서 태극기가 어떻게 구성되어 있고 어떤 수치로 그려지는지 자세하게 알아볼 수 있어서 흥미로웠다. 특히, 태극기에서 각 괘를 부르는 호칭과 각 괘의 위치를 정확하게 알 수 있는 좋은 기회였다. CustomPaint를 사용해서 비정형 UI를 그리는 것에 더 익숙해 질 수 있었다. ",
  "wordCount" : "311",
  "inLanguage": "en",
  "datePublished": "2024-08-15T18:15:39+09:00",
  "dateModified": "2024-08-15T18:15:39+09:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://cskime.github.io/posts/flutter-taegeukgi/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "cskime.io",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cskime.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://cskime.github.io/" accesskey="h" title="cskime.io (Alt + H)">cskime.io</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://cskime.github.io/archive" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://cskime.github.io/tags" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://cskime.github.io/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      🇰🇷 광복절 기념 태극기 그리기 🇰🇷
    </h1>
    <div class="post-meta"><span title='2024-08-15 18:15:39 +0900 KST'>August 15, 2024</span>&nbsp;·&nbsp;2 min

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#overview" aria-label="Overview">Overview</a></li>
                <li>
                    <a href="#%ea%b9%83%eb%a9%b4-%ea%b7%b8%eb%a6%ac%ea%b8%b0" aria-label="깃면 그리기">깃면 그리기</a></li>
                <li>
                    <a href="#%ed%83%9c%ea%b7%b9-%eb%ac%b8%ec%96%91-%ea%b7%b8%eb%a6%ac%ea%b8%b0" aria-label="태극 문양 그리기">태극 문양 그리기</a></li>
                <li>
                    <a href="#%ea%b4%98-%ea%b7%b8%eb%a6%ac%ea%b8%b0" aria-label="괘 그리기">괘 그리기</a></li>
                <li>
                    <a href="#%ed%9b%84%ea%b8%b0" aria-label="후기">후기</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="overview">Overview<a hidden class="anchor" aria-hidden="true" href="#overview">#</a></h2>
<p>광복절을 기념해서 Flutter로 태극기를 그려봤다. (<a href="https://github.com/cskime/taegeukgi">Repository</a>)</p>
<p><a href="https://www.guri.go.kr/www/contents.do?key=461">태극기 도면</a>을 참고했고, <code>CustomPaint</code>를 사용했다.</p>
<img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/demo.png" />
<h2 id="깃면-그리기">깃면 그리기<a hidden class="anchor" aria-hidden="true" href="#깃면-그리기">#</a></h2>
<img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/code-1.png" />
<ul>
<li>태극기 깃면의 가로:세로 비율은 3:2이므로, <code>AspectRatio</code>로 3:2 비율의 widget을 만든다.</li>
<li><code>DecoratedBox</code>를 사용해서 border를 그려준다.</li>
<li><code>AspectRatio</code>의 <code>child</code>에 <code>LayoutBuilder</code>를 사용해서 <code>CustomPaint</code>의 size를 깃면 size로 설정한다.</li>
<li><code>CustomPaint</code>는 이 수치를 기반으로 태극 문양과 괘의 layout을 계산한다.</li>
</ul>
<h2 id="태극-문양-그리기">태극 문양 그리기<a hidden class="anchor" aria-hidden="true" href="#태극-문양-그리기">#</a></h2>
<p>태극 문양은 아래 두 단계에 걸쳐 그릴 수 있다.</p>
<ol>
<li>빨간색과 파란색 반으로 나뉜 원을 그린다.</li>
<li>반지름을 지름으로 하는 빨간색, 파란색 원을 왼쪽, 오른쪽에 덮어서 그린다.</li>
</ol>
<p>이 때, 빨간색과 파란θ색 반원은 태극기의 왼쪽 위 모서리와 오른쪽 아래 모서리로 그어지는 대각선으로 나뉜다. 따라서, drawArc로 반원을 그릴 때 시작 각도(<code>startAngle</code>)는 0과 <code>pi</code>에서 이 대각선의 내각을 더한 위치가 된다. 태극기의 절반인 직각 삼각형에서 밑변과 높이를 알고 있으므로, 내각은 아래와 같이 계산할 수 있다.</p>
<div align="center">
<img src="./image1.png" width="400" />
<p>$\theta = \arctan(\frac{b}{a})$</p>
</div>
<p>위 공식에 따라 <code>atan()</code> 함수를 사용해서 내각을 구하고, <code>Canvas.drawArc</code>에서 <code>startAngle</code>에 이 내각을 더해주면 아래와 같이 그려진다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TaegukgiPainter</span> <span style="color:#66d9ef">extends</span> CustomPainter {
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> paint(Canvas canvas, Size size) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">final</span> angle <span style="color:#f92672">=</span> atan(size.height <span style="color:#f92672">/</span> size.width);
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    canvas.drawArc(rect, angle, pi, <span style="color:#66d9ef">false</span>, bluePaint);
</span></span><span style="display:flex;"><span>    canvas.drawArc(rect, pi <span style="color:#f92672">+</span> angle, pi, <span style="color:#66d9ef">false</span>, redPaint);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div align="center"><img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/circle-1.png" width="400"/></div>
<p>다음으로, 대각선을 축으로 하고 그려진 원의 반지름을 지름으로 하는 빨간색, 파란색 반원을 그려준다.</p>
<div align="center"><img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/code-2.png" width="550" /></div>
<p>각 원의 색상이 기존 색상을 덮어쓰면서 아래와 같이 태극 모양으로 보이게 된다.</p>
<div align="center"><img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/circle-2.png" width="400" /></div>
<h2 id="괘-그리기">괘 그리기<a hidden class="anchor" aria-hidden="true" href="#괘-그리기">#</a></h2>
<p>괘는 태극기를 가로지르는 대각선에 수직 방향으로 그려진다. 위에서 계산한 대각선 사잇각과 직각 삼각형의 성질을 이용해서 아래와 같이 괘의 중심점과 양 끝점을 계산할 수 있다.</p>
<div align="center"><img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/calc.jpeg" width="80%" /></div>
<p>괘의 각 line의 center 좌표를 계산한 뒤, center에서 좌우로 떨어져 있는 두 point를 계산하여 drawLine으로 괘를 그려준다. 괘의 line 길이, 두께, line 간격 등을 모두 알고 있으므로 for문을 이용해서 3줄의 line을 같은 방법으로 그려준다. 아래는 곤괘를 그리는 예시이다.</p>
<div align="center"><img src="https://github.com/cskime/taegeukgi/raw/main/documents/images/code-3.png" width="400" /></div>
<p>괘를 그리는 전체 코드는 <a href="https://github.com/cskime/taegeukgi/blob/main/lib/taegukgi/taegukgi_painter.dart">여기</a>에서 확인할 수 있다.</p>
<h2 id="후기">후기<a hidden class="anchor" aria-hidden="true" href="#후기">#</a></h2>
<ul>
<li>광복절을 맞아 태극기를 직접 그려보면서 태극기가 어떻게 구성되어 있고 어떤 수치로 그려지는지 자세하게 알아볼 수 있어서 흥미로웠다.</li>
<li>특히, 태극기에서 각 괘를 부르는 호칭과 각 괘의 위치를 정확하게 알 수 있는 좋은 기회였다.</li>
<li><code>CustomPaint</code>를 사용해서 비정형 UI를 그리는 것에 더 익숙해 질 수 있었다.</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://cskime.github.io/tags/flutter/">Flutter</a></li>
      <li><a href="https://cskime.github.io/tags/custompaint/">CustomPaint</a></li>
    </ul>
  </footer>
<div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
  
  
  
  };
  (function() {
      if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
          document.getElementById('disqus_thread').innerHTML = 'Disqu s comments not available by default when the website is previewed locally.';
          return;
      }
      var d = document, s = d.createElement('script'); s.async = true;
      s.src = '//' + "cskime-github-io" + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
  })();
</script>
<noscript
  >Please enable JavaScript to view the
  <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript
>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a
>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://cskime.github.io/">cskime.io</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
